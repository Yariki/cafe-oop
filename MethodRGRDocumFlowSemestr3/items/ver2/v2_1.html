<html>
<head>
    <title>Об’єктно-орієнтоване програмування</title>
    <link rel="stylesheet" type="text/css" href="../../source/style.css">
</head>
<body background="../../source/background.jpg";>
<h1 align=center>Об’єктно-орієнтоване програмування</h1>
<table border="0" class="menu1" >
			<tr>
				<td><a href="../ver1/v1_1.html"><img border="0" src="../../source/v1.png"></a></td>
                <td><a href="../ver2/v2_1.html"><img border="0" src="../../source/v2.png"></a></td>
                <td><a href="../ver3/v3_1.html"><img border="0" src="../../source/v3.png"></a></td>
                <td><a href="../ver4/v4_1.html"><img border="0" src="../../source/v4.png"></a></td>
                <td><a href="../ver5/v5_1.html"><img border="0" src="../../source/v5.png"></a></td>
                <td><a href="../ver6/v6_1.html"><img border="0" src="../../source/v6.png"></a></td>
                <td><a href="../ver7/v7_1.html"><img border="0" src="../../source/v7.png"></a></td>
                <td><a href="../ver8/v8_1.html"><img border="0" src="../../source/v8.png"></a></td>
			</tr>
</table>
<table border="0" class="menu2">
			<tr>
				<td><a href="v2_1.html"><img border="0" src="../../source/m1.png"></a></td>
			</tr>
			<tr>
				<td><a href="v2_2.html"><img border="0" src="../../source/m2.png"></a></td>
			</tr>
            <tr>
				<td><a href="v2_3.html"><img border="0" src="../../source/m3.png"></a></td>
			</tr>
			<tr>
				<td><a href="v2_4.html"><img border="0" src="../../source/m4.png"></a></td>
			</tr>
            <tr>
				<td><a href="v2_5.html"><img border="0" src="../../source/m5.png"></a></td>
			</tr>
            <tr>
				<td><a href="v2_6.html"><img border="0" src="../../source/m6.png"></a></td>
			</tr>
            <tr>
				<td>&nbsp</td>
			</tr>
            <tr>
				<td>&nbsp</td>
			</tr>
            <tr>
				<td>&nbsp</td>
			</tr>
            <tr>
				<td><a href="../rating.html"><img border="0" src="../../source/m6.png"></a></td>
			</tr>
            <tr>
				<td><a href="../requir.html"><img border="0" src="../../source/m8.png"></a></td>
			</tr>
</table>
<a href="../../main.html"><img border="0" class="home" src="../../source/home.png"></a>
<div class="text">

<h2 id="up">Версія 2. Конструктори та деструктори класів. Діаграми прецедентів і класів.</h2>
<h3><u>Мета:</u></h3>
<ul>
    <li>вивчити особливості використання різних видів конструкторів. Доповнити програму конструкторами різних видів.</li>
</ul>

<h3><u>Теоретичні відомості</u></h3>

<ul>
<li><a href="#con">Конструктори</a></li>
<li><a href="#de">Деструктори</a></li>
<li><a href="#call">Виклик конструкторів та деструкторів</a></li>
</ul>

<h3 id="con"><u>Конструктори</u> </h3>
<a href="#up"><sub>[up]</sub></a>

<br><br><b>Конструктор</b> – спеціальний метод, що автоматично викликається при створенні об’єкта.
<ul>
    <li>Призначення конструктора — створення екземплярів класу, тобто об’єктів.</li>
    <li>Клас може мати декілька конструкторів і тільки один деструктор. </li>
    <li>Кількість конструкторів визначається кількістю способів створення об’єкта.</li>
</ul>
<b>Дії, що виконує конструктор:</b>
<ul>
    <li>виділення динамічної пам’яті для об’єкта;</li>
    <li>ініціалізація елементів даних класу;</li>
    <li>копіювання об’єктів, тобто елементів даних-членів класу;</li>
    <li>перетворення типів об’єктів класу до інших типів.</li>
</ul>
<b>Правила визначення конструкторів:</b>
<ol>
    <li>Конструктор має те саме ім’я, що і тип класу.</li>
    <li>Конструктор ніколи не повертає значення, тому не можна вказувати тип значення, що повертається, навіть void.</li>
    <li>Конструктор не має оператора return.</li>
    <li>Конструктор  не  успадковується.</li>
    <li>Не може бути оголошений як static, virtual, const.</li>
    <li>Помилки з конструктора повертається через механізм обробки виключних ситуацій.</li>
    <li>Визначення конструктора може знаходитися   всередині класу або за його межами.</li>
    <li>У випадку визначення конструктора за межами опису класу застосовується оператор :: розширення області видимості.</li>
    <li>Конструктор може мати параметри і може бути без параметрів. Конструктор з параметрами ініціалізує об’єкт в точці його оголошення.</li>
    <li>Конструктор без параметрів ініціалізує пустий об’єкт. Як правило використовується для виділення блока пам’яті і ініціалізації покажчика на можливі значення.</li>
</ol>
<h4 id="vid">Види конструкторів:</h4>

<ol>
    <li><a href="#def">Конструктор за замовчуванням.</a></li>
    <li><a href="#in">Конструктор ініціалізації.</a></li>
    <li><a href="#cop">Конструктор копії</a> для створення та ініціалізації нового об’єкта, використовуючи значення елементів даних існуючого об’єкта.</li>
    <li><a href="#tran">Конструктор перетворення</a> типів об’єктів одного класу до іншого типу.</li>
</ol>
<h5><a href="#con">[up]</a></h5>

<h3 id="def">Конструктор за замовчуванням:</h3>
<b><u><i>Конструктор за замовчуванням</i></u></b> - спеціальний конструктор, який не має параметрів.
<br><b><u><i>Призначення конструктора за замовчуванням </i></u></b>– виділення пам’яті, проте присвоєння значень змінним класу не відбувається. 
<br><b>Особливості використання конструктора:</b>
<ol>
    <li>Якщо конструктор для класу не визначений, то компілятор генерує конструктор за замовчуванням. </li>
    <li>Конструктори, генеровані компілятором, не присвоюють початкові значення змінним-членам класу. Тому потрібно визначати власний конструктор.</li>
    <li>Якщо клас має конструктор без параметрів (явно визначений або генерований компілятором), можна визначити об’єкт класу без передачі аргументів конструктору.</li>
    <li>Якщо конструктору не передаються аргументи, в означенні об’єкта не потрібно включати <b>пусті круглі дужки</b>. </li>
    <li>Включати пусті круглі дужки потрібно під час оголошення функції, що повертає тип класу.</li>
    <li>Якщо допустити помилку в оголошенні об’єкту, то компілятор не згенерує повідомлення про помилку доти, доки не буде спроби використати її як екземпляр класу.</li>
</ol>
<h5><a href="#vid">[up]</a></h5>
<h3 id="in">Конструктор ініціалізації:</h3>
<b><u><i>Конструктор ініціалізації</i></u></b> - спеціальний вид конструктора, який разом із створенням об'єкту присвоює його полям початкові значення, отримуючи їх як параметри.
<br><b>Особливості використання конструктора:</b>
<ol>
    <li>Ініціалізація змінних усередині інтерфейсу класу неможлива, тому що означення класу задає тільки тип кожної змінної-члена класу, але не резервує для них реальної області пам’яті. </li>
    <li>Змінні-члени класу потрібно ініціалізувати кожний раз, як тільки створюється екземпляр класу.</li>
    <li>Для ініціалізації змінних-членів в конструкторі класу найчастіше використовується операція присвоєння змінним-членам указаних значень.</li>
    <li>Якщо певним типам даних, наприклад, константам і посиланням, не можна присвоїти значення, тоді застосовується список ініціалізації, який дозволяє ініціалізувати змінні без використання операцій присвоєння значень.</li>
</ol>
<br><b>Список ініціалізації:</b>
<ul>
    <li>Список ініціалізації в означенні конструктора розміщується безпосередньо після списку параметрів. </li>
    <li>Ініціалізатор поля містить ім’я змінної з початковим значенням в круглих дужках, що записують поспіль.</li>
    <li>Якщо всі змінні-члени ініціалізуються через список ініціалізації, то тіло конструктора не містить операторів. </li>
    <li>Взагалі конструктор може мати як список ініціалізації, так і оператори в тілі конструктора. </li>
</ul>
<h5><a href="#vid">[up]</a></h5>
<h3 id="cop">Конструктор копії:</h3>
<b><u><i>Призначення</i></u></b> - конструктор копіювання використовується для отримання копії змінних екземпляра класу під час оголошення об’єкта.
<br><b><u><i>Формат оголошення:</i></u></b>конструктор копії класу – це конструктор з <i>єдиним параметром</i>, тип котрого визначено як <i>посилання</i> на тип поточного класу.
<br><b>Випадки виклику конструктора копії: </b>
<ol>
    <li>Конструктор викликається під час створення тимчасових значень в результаті передачі об’єктів класу  як параметрів-значень.</li>
    <li>Компілятор автоматично викликає конструктор копіювання класу при поверненні функцією об’єкта класу.</li>
    <li>Оскільки компілятор викликає конструктор копіювання кожний раз під час передачі об’єкта класу в функцію, об’єкт класу не можна передавати як перший параметр в сам конструктор копіювання. Потрібно передати посилання на нього. </li>
    <li>Передача об’єкта у функцію є причиною <i>нескінченної рекурсії</i>.</li>
    <li>Якщо тип значення,що повертається функцією, є об’єктом класу, то під час виклику функції компілятор генерує тимчасовий об’єкт цього класу і використовує значення, яке визначено в операторе return, для ініціалізації цього об’єкта. </li>
    <li>Для виконання ініціалізації, компілятор також викликає конструктор копіювання.</li>
</ol>
<br><b>Особливості конструктора копії: </b>
<ol>
    <li>Якщо конструктор копіювання класу не визначено, то компілятор генерує його неявно. </li>
    <li>Конструктор, що генерується компілятором, ініціалізує новий об’єкт, виконуючи операцію по елементного копіювання змінних існуючого об’єкта класу, який передається як аргумент.</li>
    <li>Використовуючи об’єкт того самого типу, завжди можна ініціалізувати його, навіть якщо конструктор копіювання в класі не визначено. </li>
    <li>Конструктори з єдиним параметром - посиланням на об’єкт дозволяють ініціалізувати об’єкт, використовуючи<i>знак рівності </i>в самому означенні об’єкта.</li>
    <li>Використання знака рівності – альтернативний спосіб передачі єдиного значення конструктору. Це є операція ініціалізації.</li>
</ol>
<h5><a href="#vid">[up]</a></h5>
<h3 id="tran">Конструктор перетворення типів об’єктів одного класу до іншого типу:</h3>
<b><u><i>Конструктор перетворення класу</i></u></b> - це конструктор з єдиним параметром, тип котрого відрізняється від типа класу.
 <br>Такий конструктор ініціалізує новий об’єкт, використовуючи дані існуючих змінних або об’єктів іншого типа. 
 <br>Конструктор перетворення указує компілятору, як перетворити об’єкти або змінні різних типів в об’єкт даного класу. 
<h5><a href="#vid">[up]</a></h5>

<h3 id="de"><u>Деструктори</u> </h3>
<b>Деструктор</b> – спеціальний  метод, що автоматично викликається під час знищення об’єкта.
<ul>
    <li>Призначення деструктора — знищення об’єкта і звільнення пам’яті від змінних-членів класу.</li>
</ul>
<h3>Призначення та оголошення деструктора:</h3>
<ol>
    <li>Клас може мати спеціальну функцію-член, що зветься деструктором і автоматично викликається кожного разу під час знищення об’єкта. </li>
    <li>Ім’я деструктора співпадає з іменем класу та містить додатковий символ префіксу “~”. </li>
    <li>Якщо в коді відсутній деструктор,то його створює компілятор.</li>
    <li>Призначення деструктора – збірка сміття: звільнення пам’яті від даних програми, що закінчилася.</li>
</ol>
<h4>Особливості використання деструктора:</h4>
<ul>
    <li>Деструктор не може повертати значення.</li>
    <li>Деструктор не можна оголошувати з типом значення, що повертається.</li>
    <li>Деструктор не може мати параметри та приймати аргументи під час його виклику.</li>
    <li>Деструктор не можна перевантажувати.</li>
    <li>Клас може мати тільки один деструктор.</li>
    <li>Деструктор може бути віртуальним.</li>
    <li>Деструктори не успадковуються.</li>
</ul>
<a href="#up"><sub>[up]</sub></a>
<h3 id="call">Виклик конструкторів та деструкторів: </h3>

<ol>
    <li>Конструктор викликається при створенні об’єкта, а деструктор — при його знищенні.</li>
    <li>Якщо об’єкт визначено глобально (тобто поза будь-якої функції), то конструктор викликається на початку програми до виклику функції main() (або WinMain() в програмі середовища Windows), деструктор – по закінченні програми.</li>
    <li>Якщо об’єкт визначено локально, тобто всередині функції, то конструктор викликається, коли потік управління досягає визначення об’єкта, деструктор — при виході за межі блоку, в якому визначено об’єкт (тобто коли об’єкт виходить з області видимості).</li>
    <li>Об’єкт визначено локально з використанням специфікатора static. Конструктор викликається, коли потік управління вперше досягає визначення об’єкта, деструктор — в кінці програми.</li>
    <li>Об’єкт створено динамічно з використанням операції new. Конструктор викликається при створенні об’єкта, а деструктор — коли об’єкт явно знищується з використанням оператора delete. Якщо цього не сталося, то деструктор не буде викликаний ніколи.</li>
</ol>
<a href="#up"><sub>[up]</sub></a>
</div>
</body>
</html>