<html>
<head>
    <title>Об’єктно-орієнтоване програмування</title>
    <link rel="stylesheet" type="text/css" href="../../source/style.css">
</head>
<body background="../../source/background.jpg";>
<h1 align=center>Об’єктно-орієнтоване програмування</h1>
<table border="0" class="menu1" >
			<tr>
				<td><a href="../ver1/v1_1.html"><img border="0" src="../../source/v1.png"></a></td>
                <td><a href="../ver2/v2_1.html"><img border="0" src="../../source/v2.png"></a></td>
                <td><a href="../ver3/v3_1.html"><img border="0" src="../../source/v3.png"></a></td>
                <td><a href="../ver4/v4_1.html"><img border="0" src="../../source/v4.png"></a></td>
                <td><a href="../ver5/v5_1.html"><img border="0" src="../../source/v5.png"></a></td>
                <td><a href="../ver6/v6_1.html"><img border="0" src="../../source/v6.png"></a></td>
                <td><a href="../ver7/v7_1.html"><img border="0" src="../../source/v7.png"></a></td>
                <td><a href="../ver8/v8_1.html"><img border="0" src="../../source/v8.png"></a></td>
			</tr>
</table>
<table border="0" class="menu2">
			<tr>
				<td><a href="v8_1.html"><img border="0" src="../../source/m1.png"></a></td>
			</tr>
			<tr>
				<td><a href="v8_2.html"><img border="0" src="../../source/m2.png"></a></td>
			</tr>
            <tr>
				<td><a href="v8_3.html"><img border="0" src="../../source/m3.png"></a></td>
			</tr>
			<tr>
				<td><a href="v8_4.html"><img border="0" src="../../source/m4.png"></a></td>
			</tr>
            <tr>
				<td><a href="v8_5.html"><img border="0" src="../../source/m5.png"></a></td>
			</tr>
            <tr>
				<td><a href="v8_6.html"><img border="0" src="../../source/m6.png"></a></td>
			</tr>
            <tr>
				<td>&nbsp</td>
			</tr>
            <tr>
				<td>&nbsp</td>
			</tr>
            <tr>
				<td>&nbsp</td>
			</tr>
            <tr>
				<td><a href="../rating.html"><img border="0" src="../../source/m7.png"></a></td>
			</tr>
            <tr>
				<td><a href="../requir.html"><img border="0" src="../../source/m7.png"></a></td>
			</tr>
</table>
<a href="../../main.html"><img border="0" class="home" src="../../source/home.png"></a>
<div class="text">
<h2 id="up">Версія 8. Оброблення виключних ситуацій. Діаграма класів, діяльності, послідовності.</h2>
<h3><u>Мета:</u></h3>
<ul>
    <li>ознайомитися з особливостями генерації і обробки виключень в мові С++ і створити програму їх обробки.</li>
</ul>

<h3><u>Теоретичні відомості</u></h3>

<ul>
<li><a href="#exe">Виключні ситуації </a></li>
<li><a href="#rul">Блок try - catch</a></li>
</ul>

<h3 id="exe">Виключні ситуації </h3>
<b><i><u>Виключні ситуації</u></i></b> (виключення)  - це незвичайні або несподівані  обставини, що  виникають під час роботи програми. Обробка виключення необхідна для того, щоб запобігти перериванню програми, і передбачає такі етапи: генерацію виключення функцією, яка сама не може обробити це виключення; перехоплення виключення обробником та його обробка. Якщо для цього специфічного виключення не знаходиться обробника, тоді програма завершує роботу.
<br><br>Точка, в якій генерується виключення за допомогою оператора <b>throw</b>, називається <b><u>точкою генерації</u></b>. Коли виникає виключення, тоді з точки його генерації обробнику виключення передається інформація про тип згенерованого об’єкта або інформація, що розміщується в цьому об’єкті. Об’єкт, що генерується, є рядком символів або об’єктом класу. Частина програми, яка буде обробляти виключення, може бути віддалена від тої частини програма, яка викинула виключення. 
<h4>Для обробки виключень необхідно:</h4>
<ul>
<li>оголосити виключення у вигляді констант, рядків (повідомлення), класу об’єктів;</li>
<li>визначити специфікацію виключень у заголовку функції у вигляді списку виключень, які можуть генеруватися функцією; наприклад:
<br><br><b>int funct(double param) throw(a,b,c){……}</b> <br><br>
</li>
<li>генерувати (викинути) виключення за допомогою оператора
<br><br><b>throw об’єкт;</b>
</li>
</ul>
<h4>Оператор throw може генерувати:</h4>
<ul>
<li>виключення заданого типу, якщо задається у вигляді  <b>throw (type);</b></li>
<li>виключення декількох типів, якщо задається у вигляді <b>throw (type1, type2, type3,...);</b></li>
<li>виключення об’єктів заданого класу:  <b>throw клас(аргументи);</b></li>
<li>не генерувати виключення:  <b>throw();</b></li>
<li>виключення, які обробляються функцією, що викликається: <b>throw;</b></li>
</ul>
 Обробка виключної ситуації здійснюється оператором <b>catch()</b>, який має формат: 
<br><br><b>catch(тип_об’єкту)
<br>{ програмний код, що обробляє виключення}</b>
<br><br>
<a href="#up"><sub>[up]</sub></a>


<h3 id="rul">Блок try - catch</h3>
Для обробки виключень використовуються блоки <b>try - catch</b>. Програміст укладає в блок  іспитів <b>try</b> той код, який може згенерувати помилку, що викликає виключення. За блоком <b>try</b> записується блок перехоплення виключення <b>catch</b>, який визначає тип виключення та містить програмний код, що його обробляє. Якщо тип виключення відповідає типу параметра в обробнику виключення <b>catch</b>, тоді виконується код його обробника, інакше здійснюється аварійне завершення програми. 
<br><br><b>try
    <br>{виклик функції, що генерує виключення}
<br>catch(тип_об’єкту)
   <br>{тіло обробника виключення}
</b>
<h4>Правила використання блоку try - catch:</h4>
<ol>
<li>Оператор <b>try</b> містить оператори та функції, які генерують виключення.</li>
<li>Оператори <b>try</b> можуть бути вкладеними.</li>
<li>Один або декілька операторів <b>catch()</b> повинні бути записані поспіль після <b>try</b> для перехоплення виключень, що  генеруються в <b>try</b>.</li>
<li>Для різних виключних ситуацій треба використовувати різні типи (класи) виключень.</li>
<li>Для кожного типу виключень треба використовувати свій <b>catch()</b>.</li>
<li>Якщо використовувати оператор <b>catch(...)</b>, тоді можуть бути перехоплені будь-які виключення, незалежно від їх типу. Оператор <b>catch(...)</b> необхідно розміщувати останнім у списку обробників виключення блоку try – catch.</li>
<li>Якщо виключення, що утворилося,  ніде не обробилося, то  викликається одна  з трьох функцій: <b>unexpected()</b>, <b>terminate()</b>, <b>abort()</b>..</li>
<li>Функція <b>unexpected()</b> викликається, якщо виникли непередбачені виключення, для яких нема оператора <b>catch()</b>, причому тільки з функцій, що мають оператор генерації виключень  <b>throw(тип)</b>.</li>
<li>Функція <b>terminate()</b> завершує програму, викликавши функцію <b>abort()</b>.</li>
<li>Функція <b>abort()</b> виконує аварійне переривання програми,  виводить повідомлення "Abnormal program termination", повертає код помилки 3.</li>
<li>Функції <b>unexpected()</b>, <b>terminate()</b> можна перевантажити, замінивши їх функціями <b>set_unexpected()</b>, <b>set_terminate()</b>, які визначають свій власний обробник виключень.</li>
</ol>
<a href="#up"><sub>[up]</sub></a>
</div>
</body>
</html>